!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.retinajs=e()}(this,function(){"use strict";function t(t){return Array.prototype.slice.call(t)}function e(t){var e=parseInt(t,10);return s<e?s:e}function n(t){return t.hasAttribute("data-no-resize")||(0===t.offsetWidth&&0===t.offsetHeight?(t.setAttribute("width",t.naturalWidth),t.setAttribute("height",t.naturalHeight)):(t.setAttribute("width",t.offsetWidth),t.setAttribute("height",t.offsetHeight))),t}function i(t,e){var i=t.nodeName.toLowerCase(),r=document.createElement("img");r.addEventListener("load",function(){"img"===i?n(t).setAttribute("src",e):t.style.backgroundImage="url("+e+")"}),r.setAttribute("src",e),t.setAttribute(g,!0)}function r(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=e(r);if(n&&1<o){i(t,n.replace(c,"@"+o+"x$1"))}}function o(t,e,n){1<s&&i(t,n)}function u(e){return e?"function"==typeof e.forEach?e:t(e):"undefined"==typeof document?[]:t(document.querySelectorAll(h))}function a(t){return t.style.backgroundImage.replace(l,"$2")}function d(t){u(t).forEach(function(t){if(!t.getAttribute(g)){var e="img"===t.nodeName.toLowerCase(),n=e?t.getAttribute("src"):a(t),i=t.getAttribute("data-rjs"),u=!isNaN(parseInt(i,10));if(null===i)return;u?r(t,n,i):o(t,n,i)}})}var f="undefined"!=typeof window,s=Math.round(f?window.devicePixelRatio||1:1),c=/(\.[A-z]{3,4}\/?(\?.*)?)$/,l=/url\(('|")?([^)'"]+)('|")?\)/i,h="[data-rjs]",g="data-rjs-processed";return f&&(window.addEventListener("load",function(){d()}),window.retinajs=d),d});